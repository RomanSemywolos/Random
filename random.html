<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="fonts/stylesheet.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
<div class="random">
    <div class="random_1">

    </div>
    <div class="random_2">
        <h1>Розіграш призів від</h1>
        <div class="img"><img src="img/logo.svg"></div>
        <div class="inputs">
            <input type="text" placeholder="від" id="min" class="input" >
            <input type="text" placeholder="до"  id="max" class="input" >
        </div>
        <div class="disp"><input disabled type="text" class="displayBtn" id="display"></div>
        <div class="btns">
            <button onclick="doIt()" class="button1">Згенерувати</button>
            <button onclick="clearInputs()" class="button2" >Очистити</button>
        </div>
    </div>
    <div class="rabbit">
        <img style="width:400px; height: 326px;" src="img/rabbit.png">
    </div>
</div>

<SCRIPT language=Javascript>

    let flag = true;

    function add (){
        this.min = parseInt(document.getElementById('min').value);
        this.max = parseInt(document.getElementById('max').value);
        for (var arr = [], j = min; j <= max; j++) arr.push (j);
        console.log (arr);
        this.arr = arr;
    }
    function randomInteger(min, max) {
        let rand = min - 0.5 + Math.random() * (max - min + 1);
        return Math.round(rand);
    }
    function doIt (){
        if (flag === true){
            add();
            flag = false;
        }
        let arr = this.arr;
        let min = this.min;
        let max = this.max;
        if (arr.length >0 && min < max){
            let i =(randomInteger(0, arr.length-2));
            document.getElementById('display').value = (arr [i]);
            arr.splice (i,1);
        }
        else if (arr.length <=0 && min < max) document.getElementById('display').value =  ("end!");
        else document.getElementById('display').value =  ("NOPE!")
    }
    function clearInputs(){
        document.getElementById('min').value = "";
        document.getElementById('max').value = "";
        document.getElementById('display').value = "";
        flag = true;
    }
</SCRIPT>
</body>
</html>